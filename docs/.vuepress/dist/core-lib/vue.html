<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue 扩展 | vea</title>
    <meta name="description" content="前端项目所有生命周期">
    
    
    <link rel="preload" href="/assets/css/0.styles.dcae4551.css" as="style"><link rel="preload" href="/assets/js/app.33f7b880.js" as="script"><link rel="preload" href="/assets/js/6.2acb0185.js" as="script"><link rel="prefetch" href="/assets/js/10.0831797f.js"><link rel="prefetch" href="/assets/js/2.afeb1aed.js"><link rel="prefetch" href="/assets/js/3.42404751.js"><link rel="prefetch" href="/assets/js/4.6dc98958.js"><link rel="prefetch" href="/assets/js/5.0b5a74b9.js"><link rel="prefetch" href="/assets/js/7.bc4068a5.js"><link rel="prefetch" href="/assets/js/8.c4d3406c.js"><link rel="prefetch" href="/assets/js/9.4a0d48bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dcae4551.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">vea</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">介绍</a></div><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/core-lib/" class="nav-link router-link-active">核心库</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">介绍</a></div><div class="nav-item"><a href="/guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/core-lib/" class="nav-link router-link-active">核心库</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/core-lib/" class="sidebar-link">简介</a></li><li><a href="/core-lib/vue.html" class="active sidebar-link">vue 扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/core-lib/vue.html#filter" class="sidebar-link">filter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/core-lib/vue.html#formatdate" class="sidebar-link">formatDate</a></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#formatnub" class="sidebar-link">formatNub</a></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#sublen" class="sidebar-link">sublen</a></li></ul></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#mixin" class="sidebar-link">mixin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/core-lib/vue.html#page" class="sidebar-link">page</a></li></ul></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#vue-prototype" class="sidebar-link">Vue.prototype</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/core-lib/vue.html#util" class="sidebar-link">$_util</a></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#createfetch" class="sidebar-link">$_createFetch</a></li><li class="sidebar-sub-header"><a href="/core-lib/vue.html#math-精度数学处理" class="sidebar-link">$_math (精度数学处理)</a></li></ul></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="vue-扩展"><a href="#vue-扩展" aria-hidden="true" class="header-anchor">#</a> vue 扩展</h1> <h2 id="filter"><a href="#filter" aria-hidden="true" class="header-anchor">#</a> filter</h2> <h3 id="formatdate"><a href="#formatdate" aria-hidden="true" class="header-anchor">#</a> formatDate</h3> <blockquote><p>时间戳日期格式化</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span>date<span class="token punctuation">:</span>number <span class="token operator">|</span> string<span class="token punctuation">,</span> fmt<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>string
</code></pre></div><h3 id="formatnub"><a href="#formatnub" aria-hidden="true" class="header-anchor">#</a> formatNub</h3> <blockquote><p>不四舍五入保留n位小数</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span>val<span class="token punctuation">:</span>number <span class="token operator">|</span> string<span class="token punctuation">,</span> len<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>number
</code></pre></div><h3 id="sublen"><a href="#sublen" aria-hidden="true" class="header-anchor">#</a> sublen</h3> <blockquote><p>字符串截取</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span>value<span class="token punctuation">:</span>string<span class="token punctuation">,</span> length<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>string
</code></pre></div><h2 id="mixin"><a href="#mixin" aria-hidden="true" class="header-anchor">#</a> mixin</h2> <h3 id="page"><a href="#page" aria-hidden="true" class="header-anchor">#</a> page</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        page<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        pre_page<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        total_count<span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="vue-prototype"><a href="#vue-prototype" aria-hidden="true" class="header-anchor">#</a> Vue.prototype</h2> <h3 id="util"><a href="#util" aria-hidden="true" class="header-anchor">#</a> $_util</h3> <h4 id="formatdate-2"><a href="#formatdate-2" aria-hidden="true" class="header-anchor">#</a> formatDate</h4> <blockquote><p>时间戳日期格式化</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">formatDate</span> <span class="token punctuation">(</span>date<span class="token punctuation">:</span>number <span class="token operator">|</span> string<span class="token punctuation">,</span> fmt<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>string
</code></pre></div><ul><li>dateToStamp</li></ul> <blockquote><p>时间字符串转换为时间戳 (默认时间戳长度为10位)</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">dateToStamp</span> <span class="token punctuation">(</span>str<span class="token punctuation">:</span>string<span class="token punctuation">,</span> len<span class="token punctuation">:</span>number<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>number
</code></pre></div><ul><li>unique</li></ul> <blockquote><p>数组去重</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">unique</span> <span class="token punctuation">(</span>arr<span class="token punctuation">:</span>Array<span class="token punctuation">)</span><span class="token punctuation">:</span>Array
</code></pre></div><ul><li>getOptionArray</li></ul> <blockquote><p>获取对象数组某些项 (例子：([{name:1,age:2,height:3}],'name,age'):[{name,age}] )</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getOptionArray</span> <span class="token punctuation">(</span>arr<span class="token punctuation">:</span>Array<span class="token punctuation">,</span>keys<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>Array
</code></pre></div><ul><li>deepClone</li></ul> <blockquote><p>深拷贝</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">deepClone</span> <span class="token punctuation">(</span>source<span class="token punctuation">:</span>Array <span class="token operator">|</span> Object<span class="token punctuation">)</span><span class="token punctuation">:</span>Array <span class="token operator">|</span> Object
</code></pre></div><ul><li>sublen</li></ul> <blockquote><p>字符串截取</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">sublen</span> <span class="token punctuation">(</span>value<span class="token punctuation">:</span>string<span class="token punctuation">,</span> length<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>string
</code></pre></div><ul><li>uniqueObj</li></ul> <blockquote><p>去除对象数组中某一属性重复的对象</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">uniqueObj</span> <span class="token punctuation">(</span>obj<span class="token punctuation">:</span>Array<span class="token punctuation">,</span> target<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>Array
</code></pre></div><ul><li>formatNub</li></ul> <blockquote><p>不四舍五入保留n位小数</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">formatNub</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span>number <span class="token operator">|</span> string<span class="token punctuation">,</span> len<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>number
</code></pre></div><ul><li>inArray</li></ul> <blockquote><p>判断元素是否在数组内 (-1 不存在)</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">inArray</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span>any <span class="token punctuation">,</span> arr<span class="token punctuation">:</span>Array<span class="token punctuation">)</span><span class="token punctuation">:</span>number
</code></pre></div><h3 id="createfetch"><a href="#createfetch" aria-hidden="true" class="header-anchor">#</a> $_createFetch</h3> <blockquote><p>fetch工厂</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">createFetch</span> <span class="token punctuation">(</span>options<span class="token punctuation">:</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>Object
</code></pre></div><ul><li>setStorage</li></ul> <blockquote><p>设置localStorage</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setStorage</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre></div><ul><li>getStorage</li></ul> <blockquote><p>获取localStorage</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getStorage</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre></div><h3 id="math-精度数学处理"><a href="#math-精度数学处理" aria-hidden="true" class="header-anchor">#</a> $_math (精度数学处理)</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>$_math<span class="token punctuation">.</span><span class="token function">strip</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>         <span class="token comment">// strip a number to nearest right number</span>
$_math<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> num3<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>   <span class="token comment">// addition, num + num2 + num3, two numbers is required at least.</span>
$_math<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> num3<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>  <span class="token comment">// subtraction, num1 - num2 - num3</span>
$_math<span class="token punctuation">.</span><span class="token function">times</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> num3<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>  <span class="token comment">// multiplication, num1 * num2 * num3</span>
$_math<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> num3<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span> <span class="token comment">// division, num1 / num2 / num3</span>
$_math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> ratio<span class="token punctuation">)</span>  <span class="token comment">// round a number based on ratio</span>
</code></pre></div><ul><li>recursion (分类层级选择器数据处理）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const map = { //数据映射
        value: 'id',
        label: 'name',
        children: 'children'
      }
      let list = data.data
      this.$_util.recursion(list, map)
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/core-lib/" class="prev router-link-active">
          简介
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.33f7b880.js" defer></script><script src="/assets/js/6.2acb0185.js" defer></script>
  </body>
</html>
